<!-- Flash Messages -->
<% if (typeof messages !== 'undefined') { %>
    <% ['error', 'success', 'warning', 'info', 'primary'].forEach(function(type) { %>
        <% if (messages[type] && messages[type].length > 0) { %>
            <% messages[type].forEach(function(message) { %>
                <div class="alert alert-<%= type === 'error' ? 'danger' : (type === 'primary' ? 'primary' : type) %> alert-dismissible fade show" role="alert">
                    <%= message %>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            <% }) %>
        <% } %>
    <% }) %>
<% } %>

<!-- Fallback for individual flash variables -->
<% if (typeof success !== 'undefined' && success.length > 0) { %>
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        <%= success %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
<% } %>

<% if (typeof error !== 'undefined' && error.length > 0) { %>
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <%= error %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
<% } %>

<% if (typeof info !== 'undefined' && info.length > 0) { %>
    <div class="alert alert-info alert-dismissible fade show" role="alert">
        <%= info %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
<% } %>

<% if (typeof warning !== 'undefined' && warning.length > 0) { %>
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        <%= warning %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
<% } %>

<% if (typeof primary !== 'undefined' && primary.length > 0) { %>
    <div class="alert alert-primary alert-dismissible fade show" role="alert">
        <%= primary %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
<% } %>