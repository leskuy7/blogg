<!-- Flash Messages (only from req.flash) -->
<% if (typeof messages !== 'undefined') { %>
    <% ['error', 'success', 'warning', 'info', 'primary'].forEach(function(type) { %>
        <% if (messages[type] && messages[type].length > 0) { %>
            <% messages[type].forEach(function(message) { %>
                <div class="alert alert-<%= type === 'error' ? 'danger' : (type === 'primary' ? 'primary' : type) %> alert-dismissible fade show" role="alert">
                    <%= message %>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            <% }) %>
        <% } %>
    <% }) %>
<% } %>